<?php$module_info = [		array(				"module" => "site_control",				"class" => "site_control_header",				"key_field" => "site_name",				"primary_column" => "site_control_header_id"		),		array(				"module" => "site_control",				"class" => "site_control_line",				"key_field" => "component_item_id",				"primary_column" => "site_control_line_id"		),//	=];$pageTitle = " Site Control ";$view_path = "site_control_view";?><?php include_once("../../include/basics/header.inc"); ?> <script type='text/javascript' src="site_control.js" ></script><?php$class = $class_first = 'site_control_header';$$class = $$class_first = &$site_control_header;$class_second = 'site_control_line';$$class_second = &$site_control_line;?><?phpif (!empty($_GET["site_control_header_id"])) { $site_control_header_id = htmlentities($_GET["site_control_header_id"]);} elseif (!empty($_POST["site_control_header_id"][0])) { $site_control_header_id = $_POST["site_control_header_id"][0];} else { $site_control_lines = new site_control_line(); $site_control_line_object = array(); array_push($site_control_line_object, $site_control_lines);//	$field_array = site_control_line::$field_array;}if (!empty($site_control_header_id)) { if (!empty($site_control_header->item_id)) {	$item = item::find_by_id($site_control_header->item_id);	$site_control_header->item_number = $item->item_number;	$site_control_header->item_description = $item->item_description;	$site_control_header->uom = $item->uom_id; } $routing_header_details = site_control_routing_header::find_by_itemId($site_control_header->item_id); if(!empty($routing_header_details[0])){	$routing_line_details = site_control_routing_line::find_by_routing_headerId($routing_header_details[0]->site_control_routing_header_id);// $routing_seq_statement = form::select_field_from_object('routing_sequence', $routing_line_details, 'site_control_routing_line_id', 'routing_sequence', $$class_second->routing_sequence, 'routing_sequence');//echo $$class_second[0]->routing_sequence;	// print_r($$class_second); }  $site_control_line_object = site_control_line::find_all_by_site_controlHeaderId($site_control_header_id); if (count($site_control_line_object) < 1) {	$site_control_lines = new site_control_line();	$site_control_line_object = array();	array_push($site_control_line_object, $site_control_lines); } else {	foreach ($site_control_line_object as &$site_control_lines) {	 $item = item::find_by_id($site_control_lines->component_item_id);	 $site_control_lines->component_item_number = $item->item_number;	 $site_control_lines->component_description = $item->item_description;	 $site_control_lines->component_uom = $item->uom_id;	} }}?><?phpif (!empty($msg)) { $show_message = '<div class="error">'; foreach ($msg as $key => $value) {	$x = $key + 1;	$show_message .= 'Message ' . $x . ' : ' . $value . '<br />'; } $show_message .= '</div>';}?>