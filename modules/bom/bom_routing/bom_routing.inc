<?php$module_info = [		array(				"module" => "bom",				"class" => "bom_routing_header",				"key_field" => "item_id",				"primary_column" => "bom_routing_header_id"		),		array(				"module" => "bom",				"class" => "bom_routing_line",				"key_field" => "routing_sequence",				"primary_column" => "bom_routing_line_id"		),		array(				"module" => "bom",				"class" => "bom_routing_detail",				"key_field" => "resource_sequence",				"primary_column" => "bom_detail_line_id"		)];$pageTitle = " Routing - Create & Update all Routings ";$view_path = "bom_view";?><?php include_once("../../../include/basics/header.inc"); ?> <script type='text/javascript' src="bom_routing.js" ></script><link href="bom_routing.css" media="all" rel="stylesheet" type="text/css" /><?php$class = $class_first = 'bom_routing_header';$$class = $$class_first = &$bom_routing_header;$class_second = 'bom_routing_line';$$class_second = &$bom_routing_line;$class_third = 'bom_detail_line';$$class_third = &$bom_detail_line;?><?phpif (!empty($_GET["bom_routing_header_id"])) { $bom_routing_header_id = htmlentities($_GET["bom_routing_header_id"]);} elseif (!empty($_BOMST["bom_routing_header_id"][0])) { $bom_routing_header_id = $_BOMST["bom_routing_header_id"][0];} else { $bom_routing_line = new bom_routing_line(); $bom_routing_line_object = array(); array_push($bom_routing_line_object, $bom_routing_line);//	$field_array = bom_routing_line::$field_array;}if (!empty($bom_routing_header_id)) { $bom_routing_line_object = bom_routing_line::find_by_routing_headerId($bom_routing_header_id); //assign the item number to the object foreach ($bom_routing_line_object as &$bom_routing_lines){	if(!empty($bom_routing_lines->item_id)){	 $item = item::find_by_id($bom_routing_lines->item_id);	 $bom_routing_lines->item_number = $item->item_number;	} }// echo "<pre>";// print_r($bom_routing_line_object); if (count($bom_routing_line_object) == 0) {	$bom_routing_line = new bom_routing_line;	$bom_routing_line_object = array();	array_push($bom_routing_line_object, $bom_routing_line); }}//if ((!empty($_GET["supplier_number"])) && (!empty($_GET["org_id"]))) {// $supplier_number = $_GET["supplier_number"];// $org_id = $_GET["org_id"];// if (supplier::find_by_supplierNumber_OrgId($supplier_number, $org_id)) {//	$supplier = supplier::find_by_supplierNumber_OrgId($supplier_number, $org_id);//	$org = org::find_by_id($supplier->org_id);////	foreach (supplier::$account_array as $key => $value) {//	 if (!empty($supplier->$value)) {//		$coa = coa_combination::find_by_id($supplier->$value);//		if (count($supplier) != 0) {//		 $supplier->$value = $coa->combination;//		} else {//		 $supplier->$value = "";//		}//	 }//	}// } else {//	$msg = "Item or Item-Organization is not defined!!";// }//}//check all the assigned business orgs?><?php//asign values of fields on form but not in databse only if $$class->$primary_cloumn is not nulif (!empty($$class->bom_routing_header_id)) { $item_details = item::find_by_id($$class->item_id); $item_number_statement = form::text_field('item_number', $item_details->item_number, '30'); $item_description_statement = form::text_field('item_description', $item_details->item_description, '30'); $item_uom_statement = form::select_field_from_object('uom_id', uom::find_all(), 'uom_id', 'uom', $item_details->uom_id, 'uom_id');// $supplier_site = supplier_site::find_by_id($$class->supplier_site_id);// $supplier_site_obj = [];// array_push($supplier_site_obj, $supplier_site);// $supplier_site_name_statement = form::select_field_from_object('supplier_site_id', $supplier_site_obj, 'supplier_site_id', 'supplier_site_name',$$class->supplier_site_id,'supplier_site_id');// // $bom_currency_statement = form::select_field_from_object('currency', option_header::currencies(), 'option_line_code', 'option_line_code', $$class->currency, 'currency');// $bom_paymentTerm_statement = form::select_field_from_object('payment_term_id', payment_term::find_all(), 'payment_term_id', 'payment_term', $$class->payment_term_id, 'payment_term_id');}?><?phpif (!empty($msg)) { $show_message = '<div class="error">'; foreach ($msg as $key => $value) {	$x = $key + 1;	$show_message .= 'Message ' . $x . ' : ' . $value . '<br />'; } $show_message .= '</div>';}?>