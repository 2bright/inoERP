<?php//$class = $class_first = 'wip_move_transaction';//$$class = $$class_first = &$wip_move_transaction;$class_second = 'wip_wo_routing_line';$$class_second = &$wip_wo_routing_line;$class_third = 'wip_wo_routing_detail';$$class_third = &$wip_wo_routing_detail;$$class->transaction_type = 'WIP_MOVE';?><?phpif (!empty($_GET["wip_wo_header_id"])) { $wip_wo_header_id = htmlentities($_GET["wip_wo_header_id"]); $wip_wo_header = wip_wo_header::find_by_id($wip_wo_header_id); $wmt = new wip_move_transaction(); foreach ($wmt->field_a as $key => $value) {	if (!empty($wip_wo_header->$value)) {	 $$class->$value = $wip_wo_header->$value;	} } $$class->wip_wo_heared_id = $wip_wo_header_id; $$class->total_quantity = $wip_wo_header->quantity; $item = item::find_by_id($$class->item_id); $$class->item_number = $item->item_number; $$class->item_description = $item->item_description; $$class->uom = $item->uom_id; $$class->transaction_type = 'WIP_MOVE'; $wip_wo_bom_object = wip_wo_bom::find_by_wip_wo_headerId($wip_wo_header_id); if (count($wip_wo_bom_object) == 0) {	$wip_wo_bom = new wip_wo_bom;	$wip_wo_bom_object = array();	array_push($wip_wo_bom_object, $wip_wo_bom); } else {	$routing_line_details = wip_wo_routing_line::find_by_wip_wo_headerId($wip_wo_header_id); } $wip_wo_routing_line_object = wip_wo_routing_line::find_by_wip_wo_headerId($wip_wo_header_id);// 	echo '<pre>';//	print_r($wip_wo_bom_object); if (count($wip_wo_routing_line_object) == 0) {	$wip_wo_routing_line = new wip_wo_routing_line;	$wip_wo_routing_line_object = array();	array_push($wip_wo_routing_line_object, $wip_wo_routing_line); }} else { $$class->total_quantity = ''; $wip_wo_bom = new wip_wo_bom(); $wip_wo_bom_object = array(); array_push($wip_wo_bom_object, $wip_wo_bom); $wip_wo_routing_line = new wip_wo_routing_line(); $wip_wo_routing_line_object = array(); array_push($wip_wo_routing_line_object, $wip_wo_routing_line);}//for move transaction view if (!empty($_GET["wip_move_transaction_id"])) { $wip_wo_header_id = $$class->wip_wo_header_id; $wip_wo_header = wip_wo_header::find_by_id($wip_wo_header_id); $$class->total_quantity = $wip_wo_header->quantity; $item = item::find_by_id($$class->item_id); $$class->item_number = $item->item_number; $$class->item_description = $item->item_description; $$class->uom = $item->uom_id; $$class->transaction_type = 'WIP_MOVE';}if (empty($$class->transaction_date)) { $time = time(); $$class->transaction_date = strftime("%Y-%m-%d %H:%M:%S", $time);}?>