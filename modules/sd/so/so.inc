<?phpglobal $f;if (!empty($$class->sd_so_header_id)) { foreach ($sd_so_line_object as &$sd_so_lines) {	if (!empty($sd_so_lines->item_id)) {	 $item = item::find_by_id($sd_so_lines->item_id);	 $sd_so_lines->item_number = $item->item_number;	} }}?><?php//asign values of fields on form but not in databse only if $$class->$primary_cloumn is not nulif (!empty($$class->ar_customer_id)) { $ac = new ar_customer(); $ac_i = $ac->findBy_id($$class->ar_customer_id); $$class->customer_name = $ac_i->customer_name; $$class->customer_number = $ac_i->customer_number;}if (!empty($$class->ar_customer_site_id)) { $arc = new ar_customer_site(); $arc_i = $arc->findBy_id($$class->ar_customer_site_id); $customer_site_obj = []; array_push($customer_site_obj, $arc_i); $customer_site_name_statement = $f->select_field_from_object('ar_customer_site_id', $customer_site_obj, 'ar_customer_site_id', 'customer_site_name', $$class->ar_customer_site_id, '', 'ar_customer_site_id', 1, $readonly1);}if (isset($sd_so_header)) { $customer_name_stmt = $f->text_field('customer_name', $sd_so_header->customer_name, '20', 'customer_name', 'select_customer_name', 1, $readonly1); $customer_number_stmt = $f->text_field('customer_number', $sd_so_header->customer_number, '8', 'customer_number', 'select_customer_number', 1, $readonly1);}if (!empty($sd_so_line_object)) { foreach ($sd_so_line_object as &$sd_so_lines) {	if (!empty($sd_so_lines->item_id)) {	 $item = item::find_by_id($sd_so_lines->item_id);	 $sd_so_lines->item_number = $item->item_number;	 $sd_so_lines->uom_id = $item->uom_id;	} else {	 $sd_so_lines->item_number = null;	 $sd_so_lines->uom_id = null;	}	if (!empty($sd_so_lines->tax_code_id)) {	 $tax = mdm_tax_code::find_by_id($sd_so_lines->tax_code_id);	 $sd_so_lines->tax_code_value = (!empty($tax->percentage)) ? 'p_' . $tax->percentage : 'a_' . $tax->tax_amount;	} else {	 $sd_so_lines->tax_code_value = null;	} }}if ((!empty($$class->arproval_status)) && ($$class->arproval_status == 'CANCELLED')) { $mode = 2; $readonly = 1;}?>