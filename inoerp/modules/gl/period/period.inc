<?php$current_open_period = 'No Open Period';$next_open_period = [];if (!empty($_GET['ledger_id'])) { $ledger_id = $_GET['ledger_id']; $ledger_c = new gl_ledger(); $ledger_i = $ledger_c->findBy_id($ledger_id); $cop = $$class->current_open_period($ledger_id); if (!empty($cop)) {	$nc = new gl_calendar();	$nc_i = $nc->findBy_id($cop->gl_calendar_id);	$current_open_period = $nc_i->name;	$next_open_period = $$class->next_open_period($ledger_id); } else {	$next_open_period = $$class->find_all_periods_ofLedger($ledger_id); }}$cop_stmt = form::text_field_ap(array('name' => 'current_open_period', 'value' => $current_open_period,						'readonly' => 1));//$nop_stmt = form::select_field_from_object('gl_calendar_id', $next_open_period, 'gl_calendar_id', 'name', '', 'new_gl_calendar_id', $readonly);$gl_period_object = [];if (!(empty($search_result))) { foreach ($search_result as &$object) {//	pa($object);	if (!empty($ledger_id)) {	 $gl_period_i = $$class->find_by_ledgerId_calendarId($ledger_id, $object->gl_calendar_id);	 $status = !empty($gl_period_i) ? $gl_period_i->status : null;	 $object->ledger_id = $ledger_id;	}	if (!empty($status)) {	 $object->status = $status;	 $object->gl_period_id = $gl_period_i->gl_period_id;	 $object->period_name = $gl_period_i->period_name;	 $object->en_dis = 0;	} else {	 $object->status = 'AVAILABLE';	 $object->en_dis = 1;	 $object->gl_period_id = null;	 $object->period_name = null;	}		array_push($gl_period_object, $object);	unset($object->disabled); } if (!empty($pagination)) {	$pagination->setProperty('_path', 'form');	$pagination_statement = $pagination->show_pagination(); }} else if (!(empty($$class))) { array_push($gl_period_object, $$class);} else { $gp = new gl_period; if (!empty($ledger_id)) {	$gp->ledger_id = $ledger_id; } array_push($gl_period_object, $gp);}?>